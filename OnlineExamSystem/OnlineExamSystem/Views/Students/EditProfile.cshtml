@model OnlineExamSystem.Models.Student

@{
    ViewData["Title"] = "Edit Profile";
}

<h2>Edit Profile</h2>

<form asp-action="EditProfile" method="post">

    <div class="mb-3">
        <label class="form-label">Full Name</label>
        <input asp-for="Name" class="form-control" />
    </div>

    <div class="mb-3">
        <label class="form-label">Course</label>
        <select asp-for="CourseId" class="form-select">
            <option value="">-- Select Course --</option>

            @foreach (var course in ViewBag.Courses)
            {
                var isInactiveSelected =
                Model.CourseId == course.Id && !course.IsApproved;

                <option value="@course.Id"
                        disabled="@(course.IsApproved ? false : !isInactiveSelected)">
                    @course.Name @(course.IsApproved ? "" : "(Inactive)")
                </option>
            }
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">College</label>
        <select asp-for="CollegeId" class="form-select">
            <option value="">-- Select College --</option>

            @foreach (var college in ViewBag.Colleges)
            {
                var isInactiveSelected =
                Model.CollegeId == college.Id && !college.IsActive;

                <option value="@college.Id"
                        disabled="@(college.IsActive ? false : !isInactiveSelected)">
                    @college.Name @(college.IsActive ? "" : "(Inactive)")
                </option>
            }
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Roll Number</label>
        <input asp-for="RollNumber" class="form-control" />
        <span asp-validation-for="RollNumber" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-primary">
        Save Profile
    </button>

    @section Scripts {
        <partial name="_ValidationScriptsPartial" />
    }
</form>
